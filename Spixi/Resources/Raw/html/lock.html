<!DOCTYPE html>
<html>
<!-- saved from url=(0016)http://localhost -->

<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no, user-scalable=no">

    <title>Spixi</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/spixiui-intro.css">

    <link rel="stylesheet" type="text/css" href="libs/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" type="text/css" href="libs/fontawesome/css/solid.min.css">


    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/spixi.js"></script>

</head>
<body onload="ixian:onload()">
    <div id="wrap" class="container-fluid noselect">

        <div class="intro-logo-holder2">
            <div class="spixi-toolbar-title">
                <div class="spixi-toolbar-logo">Spixi</div>
            </div>
        </div>
        <div class="intro-holder-70"></div>

        <!-- DescriptionBar -->
        <div class="intro-descriptionbar">
                <div class="spixi-lock-row-details">
                    <div>*SL{lock-description}</div>
                </div>
        </div>
        <!-- End DescriptionBar -->
        <hr class="intro-separator" />
        <div class="intro-textfield-holder">
            <input type="password" class="intro-textfield" id="password" oninput="checkPassword()" placeholder="*SL{lock-placeholder}">
        </div>
        <hr class="intro-separator" />

        <div id="errormessage" class="intro-text left" style="display: none;">
            <i class="fa fa-info-circle"></i> *SL{lock-error}
        </div>


        <div class="intro-holder-70"></div>

        <div id="unlockbtn" class="spixi-flat-button center disabled" style="margin-top:50px">
            *SL{lock-unlock}
        </div>

        <div class="intro-holder-70"></div>
        <div id="changebtn" class="spixi-flat-button outline center" style="margin-top:14px">
            *SL{lock-change}
        </div>

        <div class="intro-holder-20"></div>

    </div>


    <script type="text/javascript">
        var unlockbtn = document.getElementById("unlockbtn");
        var changebtn = document.getElementById("changebtn");
        var errormessage = document.getElementById("errormessage");

        $(document).ready(function () {
            $('#password').focus();

            $('#password').on('keypress', function (event) {
                if (event.which === 13) {
                    unlock();
                }
            });
        });

        unlockbtn.onclick = function () {
            if (unlockbtn.classList.contains("disabled")) {
                return;
            }

            unlock();
        }

        changebtn.onclick = function () {
            location.href = "ixian:change";
        }

        function checkPassword() {
            var password = $("#password").val();
            errormessage.style.display = "none";
            unlockbtn.className = "spixi-flat-button center disabled";

            if (password.length < 1)
                return false;

            unlockbtn.className = "spixi-flat-button center";
            return true;
        }

        function unlock() {
            var pass = $("#password").val();

            // Check that the password is correct
            if (checkPassword() == false) {
                return;
            }

            location.href = "ixian:unlock:" + pass;
        }

        function showError() {
            errormessage.style.display = "block";
        }

        function setJustConfirm() {
            changebtn.innerHTML = "*SL{global-dialog-cancel}";
        }

    </script>

</body>
</html>